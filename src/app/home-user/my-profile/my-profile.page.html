<ion-content [fullscreen]="true">
  <app-nav></app-nav>

  <div class="content">
    <div class="card">
      <div class="card-header">
        <h2>My Profile</h2>
        <ion-avatar *ngIf="(user?.imgProfile !== '')">
          <img [src]="user?.imgProfile" alt="{{user?.username}}" />
        </ion-avatar>
      </div>
      <div *ngIf="!form" class="card-content">
        <p>{{user?.username}}</p>
        <p>{{user?.email}}</p>
        <div class="card-button">
          <app-button
            texto="Change Profile"
            [lime]="true"
            (click)="showForm()"
          ></app-button>
        </div>
      </div>
      <div *ngIf="form" class="card-content">
        <form [formGroup]="formUser">
          <ion-grid class="ion-no-padding">
            <div class="inputs">
              <ion-row class="ion-justify-content-between ion-no-padding">
                <ion-input
                  color="secondary"
                  placeholder="{{user?.username}}"
                  formControlName="username"
                  [value]="user?.username"
                  type="email"
                  class="input ion-margin-bottom"
                ></ion-input>
              </ion-row>
              <ion-row
                class="ion-justify-content-between ion-no-padding"
                color="secondary"
              >
                <ion-input
                  color="secondary"
                  formControlName="email"
                  type="email"
                  [value]="user?.email"
                  placeholder="{{user?.email}}"
                  class="input ion-margin-bottom"
                ></ion-input>
              </ion-row>
              <ion-row
                class="ion-justify-content-between ion-no-padding"
                color="secondary"
              >
                <ion-input
                  color="secondary"
                  formControlName="password"
                  type="password"
                  [value]="user?.password"
                  placeholder="****"
                  class="input ion-margin-bottom"
                ></ion-input>
              </ion-row>
              <ion-row
                class="ion-justify-content-between ion-no-padding"
                color="secondary"
              >
                <ion-input
                  color="secondary"
                  formControlName="password2"
                  type="password"
                  [value]="user?.password"
                  placeholder="****"
                  class="input ion-margin-bottom"
                ></ion-input>
              </ion-row>
            </div>

            <ion-row class="ion-justify-content-between ion-no-padding">
              <div class="buttons update">
                <app-button
                  texto="Update Profile Picture"
                  (click)="updatePhoto()"
                  [lime]="true"
                ></app-button>
              </div>
            </ion-row>

            <ion-row class="ion-justify-content-between ion-no-padding">
              <div class="buttons">
                <app-button
                  texto="Cancel"
                  (click)="showForm()"
                  [lime]="true"
                ></app-button>
                <app-button
                  texto="Save"
                  (click)="saveUser()"
                  [lime]="true"
                ></app-button>
              </div>
            </ion-row>
          </ion-grid>
        </form>
      </div>
    </div>
  </div>
  <app-footer></app-footer>
</ion-content>
